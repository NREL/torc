<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Jobs" href="jobs.html" /><link rel="prev" title="Behavioral Documentation" href="index.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.07.19 -->
        <title>Workflows - Torc Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Torc Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <span class="sidebar-brand-text">Torc Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Workflow Overview</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../how_tos/index.html">How Tos</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of How Tos</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../how_tos/getting_started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/getting_started/database.html">ArangoDB instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/getting_started/installation.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/getting_started/cli_fundamentals.html">CLI Fundamentals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/getting_started/quick_start.html">Workflows Quick Start</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../how_tos/managing_workflows/index.html">Managing Workflows</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Managing Workflows</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/configure_workflow.html">Configure a workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/run_workflow.html">Run a workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/check_status.html">Check workflow status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/cancel.html">Cancel a workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/restart.html">Restart a workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/automated_scheduling.html">Automated scheduling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/gracefully_shutdown_jobs.html">Gracefully shutdown jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/debugging.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/passing_data_between_jobs.html">Passing data between jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/plot_graphs.html">Plot Graphs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/backups.html">Backups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/managing_workflows/archive.html">Archive a Workflow</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../how_tos/results/index.html">Results</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Results</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/results/join_collections.html">Join Collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/results/query_with_sql.html">Query with SQL</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../how_tos/compute_node_environments/index.html">Compute Node Environments</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Compute Node Environments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_environments/hpc_compute_node_environment.html">HPC Compute Node Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_environments/hpc_multi_node_jobs.html">HPC Multi-Node Jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_environments/custom_invocation_environments.html">Custom Invocation Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_environments/run_jobs_arbitrary_computer.html">Run Jobs on an Arbitrary Computer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_environments/slurm_hardware_control.html">Slurm Hardware Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_environments/cpu_affinity.html">Set CPU Affinity</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../how_tos/compute_node_utilization/index.html">Compute Node Utilization</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Compute Node Utilization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_utilization/resource_utilization.html">Resource Utilization Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_utilization/node_packing.html">Node Packing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_utilization/auto_tune_resource_requirements.html">Auto-Tune Resource Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/compute_node_utilization/parallelization_within_node.html">Parallelization within a compute node</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../how_tos/api/index.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../how_tos/api/api_access_with_curl.html">API Access With cURL</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/diamond_workflow.html">Diamond Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/slurm_diamond_workflow.html">Slurm Diamond Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/node_packing_workflow.html">Node-Packing Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/manual_job_dependencies.html">Declare Job Dependencies Manually</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/cpu_affinity_workflow.html">CPU Affinity Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/map_python_function.html">Map a Python function to compute nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/map_julia_function.html">Map a Julia function to compute nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/large_workflow.html">Large Workflow</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/index.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../reference/cli_reference.html">CLI Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/torc_api.html">Torc API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/http_api_reference.html">HTTP API Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/python_client.html">Python Client API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Python Client API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/python_client_models.html">OpenAPI Client Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/python_client_default_api.html">OpenAPI Client DefaultApi</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/arangodb.html">ArangoDB</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/architecture.html">Architecture</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Architecture</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/hpc_workflow.html">HPC Diagram</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/for_developers/index.html">For Developers</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of For Developers</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/for_developers/build_torc_packages.html">Build Torc Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/for_developers/generate_client_apis.html">Generate Client APIs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Explanation</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Explanation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jobs.html">Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environments.html">Environments</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Behavioral Documentation</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Behavioral Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="jobs.html">Jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html">HPC</a></li>
<li class="toctree-l3"><a class="reference internal" href="db_errors.html">Database Errors</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../_sources/explanation/behavioral_docs/workflows.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="workflows">
<h1>Workflows<a class="headerlink" href="#workflows" title="Link to this heading">¶</a></h1>
<section id="create-a-workflow">
<h2>Create a workflow<a class="headerlink" href="#create-a-workflow" title="Link to this heading">¶</a></h2>
<p>As discussed elsewhere, there are many ways to create a workflow. The standard method is to use a
workflow specification.</p>
<section id="command">
<h3>Command<a class="headerlink" href="#command" title="Link to this heading">¶</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>torc<span class="w"> </span>workflows<span class="w"> </span>create-from-json-file
</pre></div>
</div>
<p>The workflow specification is a user-facing JSON document that fully describes a workflow but is
not actually stored in the database.</p>
</section>
<section id="what-happens">
<h3>What happens<a class="headerlink" href="#what-happens" title="Link to this heading">¶</a></h3>
<p>The torc database service does the following:</p>
<ul class="simple">
<li><p>Creates a set of collections for one workflow. Each workflow has its own collection for jobs,
files, user data, etc. The format of each collection names is
<code class="docutils literal notranslate"><span class="pre">&lt;collection_name&gt;/&lt;workflow_key&gt;</span></code>, such as <code class="docutils literal notranslate"><span class="pre">jobs__96282097</span></code>.</p></li>
<li><p>Converts the JSON objects to torc data models, stores them in the database, and then creates
edges in the workflow graph between related vertexes based on names in the specification. Edges
are based on document keys, not names.</p></li>
</ul>
<p>This table describes the database vertex and edge collections that torc creates.</p>
<div class="table-wrapper docutils container" id="id8">
<table class="docutils align-default" id="id8">
<caption><span class="caption-text">Database Vertexes and Edges</span><a class="headerlink" href="#id8" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>From Collection</p></th>
<th class="head"><p>To Collection</p></th>
<th class="head"><p>Edge</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>jobs</p></td>
<td><p>files</p></td>
<td><p>produces</p></td>
<td><p>Defines the files produced by a job.</p></td>
</tr>
<tr class="row-odd"><td><p>jobs</p></td>
<td><p>files</p></td>
<td><p>needs</p></td>
<td><p>Defines the files needed by a job.</p></td>
</tr>
<tr class="row-even"><td><p>jobs</p></td>
<td><p>user_data</p></td>
<td><p>stores</p></td>
<td><p>Defines the user data created and stored by a job.</p></td>
</tr>
<tr class="row-odd"><td><p>jobs</p></td>
<td><p>user_data</p></td>
<td><p>consumes</p></td>
<td><p>Defines the user data consumed by a job.</p></td>
</tr>
<tr class="row-even"><td><p>jobs</p></td>
<td><p>jobs</p></td>
<td><p>blocks</p></td>
<td><p>Defines the order of execution for jobs. Can be defined by the user or derived from files
and user data.</p></td>
</tr>
<tr class="row-odd"><td><p>jobs</p></td>
<td><p>resource_requirements</p></td>
<td><p>requires</p></td>
<td><p>Connects a job with its resource requirements.</p></td>
</tr>
<tr class="row-even"><td><p>jobs</p></td>
<td><p>results</p></td>
<td><p>returned</p></td>
<td><p>Connects a job with its execution results.</p></td>
</tr>
<tr class="row-odd"><td><p>jobs</p></td>
<td><p>job_process_stats</p></td>
<td><p>process_used</p></td>
<td><p>Connects a job with its process utilization stats.</p></td>
</tr>
<tr class="row-even"><td><p>compute_nodes</p></td>
<td><p>jobs</p></td>
<td><p>executed</p></td>
<td><p>Connects a compute node with jobs that it executed.</p></td>
</tr>
<tr class="row-odd"><td><p>compute_nodes</p></td>
<td><p>compute_node_stats</p></td>
<td><p>nodeUsed</p></td>
<td><p>Connects a compute node with its resource utilization stats.</p></td>
</tr>
<tr class="row-even"><td><p>jobs</p></td>
<td><p>schedulers</p></td>
<td><p>scheduledBys</p></td>
<td><p>Connects a job with its compute node scheduler.</p></td>
</tr>
</tbody>
</table>
</div>
<p>Refer to <code class="docutils literal notranslate"><span class="pre">torc</span> <span class="pre">collections</span> <span class="pre">join</span> <span class="pre">--help</span></code> to see how to display these relationships.</p>
</section>
</section>
<section id="start-a-workflow">
<span id="behavior-start-workflow"></span><h2>Start a workflow<a class="headerlink" href="#start-a-workflow" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3>Command<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>torc<span class="w"> </span>workflows<span class="w"> </span>start
</pre></div>
</div>
</section>
<section id="id2">
<h3>What happens<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The torc client application makes a series of API calls to check that all required input files and
user data objects exist.</p></li>
<li><p>The torc client application records the last-modified timestamp of existing input files and
records those in the database.</p></li>
<li><p>The torc client application calls <code class="docutils literal notranslate"><span class="pre">initialize_jobs</span></code>. The database service
does the following:</p>
<ul>
<li><p>Clears any user_data objects defined as ephemeral.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">blocks</span></code> edges between jobs based on the <code class="docutils literal notranslate"><span class="pre">produces</span></code>/<code class="docutils literal notranslate"><span class="pre">needs</span></code> job-file edges.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">blocks</span></code> edges between jobs based on the <code class="docutils literal notranslate"><span class="pre">stores</span></code>/<code class="docutils literal notranslate"><span class="pre">consumes</span></code> job-user_data edges.</p></li>
<li><p>Sets job status as appropriate. Jobs will either be <code class="docutils literal notranslate"><span class="pre">ready</span></code> or <code class="docutils literal notranslate"><span class="pre">blocked</span></code>.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="schedule-compute-nodes">
<h2>Schedule compute nodes<a class="headerlink" href="#schedule-compute-nodes" title="Link to this heading">¶</a></h2>
<p>The standard way to start a workflow in an HPC environment is through the
<code class="docutils literal notranslate"><span class="pre">torc</span> <span class="pre">hpc</span> <span class="pre">slurm</span> <span class="pre">schedule-nodes</span></code> command(s).</p>
<section id="id3">
<h3>What happens<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>The torc client application submits requests to the compute node scheduler (like Slurm) to allocate
nodes. It tells the scheduler to run the torc worker application upon node acquisition.</p>
<p>When that application starts it makes database calls to ask for jobs appropriate for its hardware
(CPUs, memory, etc.) and then runs those jobs.</p>
<p>Parallelism on each node is based on the resource requirements defined for each job. If each job
only needs one CPU and 1 GB of memory, torc will start as many jobs as the node has CPUs.</p>
</section>
</section>
<section id="complete-a-job">
<h2>Complete a job<a class="headerlink" href="#complete-a-job" title="Link to this heading">¶</a></h2>
<p>The torc worker application manages job completions. When a user job finishes the application
creates a results object with the return code and execution time, and passes that to the database
service through the call <code class="docutils literal notranslate"><span class="pre">complete_job</span></code>. The service
does the following:</p>
<ul class="simple">
<li><p>Stores the result in the database and connects the job to that result with a <code class="docutils literal notranslate"><span class="pre">returned</span></code> edge.</p></li>
<li><p>Changes the job status to <code class="docutils literal notranslate"><span class="pre">done</span></code>.</p></li>
<li><p>Creates a hash of all critical input data for the job and stores it in the database. This
includes all inputs that affect the result, like the command, input files, and user data, but not
items that do not affect the result, like the job name. If the workflow is ever restarted, torc
uses this information to tell whether a successfully-completed job needs to be rerun.</p></li>
<li><p>If this job was the last job blocking another job from running, the service changes that job
status to <code class="docutils literal notranslate"><span class="pre">ready</span></code>.</p></li>
</ul>
<p>The torc worker application also records process utilization stats for the complete job in the
database. When all jobs are finished it also records overall compute node utilization stats in the
database.</p>
</section>
<section id="restart-a-workflow">
<h2>Restart a workflow<a class="headerlink" href="#restart-a-workflow" title="Link to this heading">¶</a></h2>
<section id="id4">
<h3>Command<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>torc<span class="w"> </span>workflows<span class="w"> </span>restart
</pre></div>
</div>
</section>
<section id="id5">
<h3>What happens<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>The main goal of a workflow restart is to only rerun jobs that did not complete in a previous run.
Jobs that finished successfully and have no changes to dependencies do not need to be rerun.</p>
<p>The torc client application repeats the behavior of <a class="reference internal" href="#behavior-start-workflow"><span class="std std-ref">Start a workflow</span></a>. With help from
the database service it also looks for changes to critical job input parameters, input files and
user data. It changes the job status to <code class="docutils literal notranslate"><span class="pre">uninitialized</span></code> for any job that meets one of these
criteria:</p>
<ul class="simple">
<li><p>The job did not complete successfully. This includes failures, timeouts, and cancelations.</p></li>
<li><p>The job input files were updated and have a new timestamp.</p></li>
<li><p>User data documents consumed by the job were updated and have a new revision.</p></li>
</ul>
<p>The workflow status contains a <code class="docutils literal notranslate"><span class="pre">run_id</span></code> field. The torc worker application increments the value
each time it starts or restarts a workflow. This allows you to inspect results from each run.</p>
</section>
</section>
<section id="cancel-a-workflow">
<h2>Cancel a workflow<a class="headerlink" href="#cancel-a-workflow" title="Link to this heading">¶</a></h2>
<section id="id6">
<h3>Command<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>torc<span class="w"> </span>workflows<span class="w"> </span>cancel
</pre></div>
</div>
</section>
<section id="id7">
<h3>What happens<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<p>The torc client application calls <code class="docutils literal notranslate"><span class="pre">put_workflows_key_cancel</span></code>. The database service does the
following:</p>
<ul class="simple">
<li><p>Sets the workflow status to <code class="docutils literal notranslate"><span class="pre">canceled</span></code>.</p></li>
<li><p>Sets all jobs that have the status <code class="docutils literal notranslate"><span class="pre">submitted</span></code> or <code class="docutils literal notranslate"><span class="pre">submitted_pending</span></code> to <code class="docutils literal notranslate"><span class="pre">canceled</span></code>.</p></li>
</ul>
<p>The torc worker application on each compute node detects those status changes and terminate all
running jobs.</p>
</section>
</section>
<section id="events">
<h2>Events<a class="headerlink" href="#events" title="Link to this heading">¶</a></h2>
<p>The torc applications and database service post events to the database for conditions like
starting and completing workflows. User applications can post their own events.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The torc database service will add a <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> value to every event that does not
already have one. It is recommended that you not add your own.</p>
</div>
<p>You can view the events with this command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>torc<span class="w"> </span>events<span class="w"> </span>list
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="jobs.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Jobs</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Behavioral Documentation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Alliance for Sustainable Energy, LLC
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Workflows</a><ul>
<li><a class="reference internal" href="#create-a-workflow">Create a workflow</a><ul>
<li><a class="reference internal" href="#command">Command</a></li>
<li><a class="reference internal" href="#what-happens">What happens</a></li>
</ul>
</li>
<li><a class="reference internal" href="#start-a-workflow">Start a workflow</a><ul>
<li><a class="reference internal" href="#id1">Command</a></li>
<li><a class="reference internal" href="#id2">What happens</a></li>
</ul>
</li>
<li><a class="reference internal" href="#schedule-compute-nodes">Schedule compute nodes</a><ul>
<li><a class="reference internal" href="#id3">What happens</a></li>
</ul>
</li>
<li><a class="reference internal" href="#complete-a-job">Complete a job</a></li>
<li><a class="reference internal" href="#restart-a-workflow">Restart a workflow</a><ul>
<li><a class="reference internal" href="#id4">Command</a></li>
<li><a class="reference internal" href="#id5">What happens</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cancel-a-workflow">Cancel a workflow</a><ul>
<li><a class="reference internal" href="#id6">Command</a></li>
<li><a class="reference internal" href="#id7">What happens</a></li>
</ul>
</li>
<li><a class="reference internal" href="#events">Events</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=38b66d78"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=3a0c56fd"></script>
    </body>
</html>